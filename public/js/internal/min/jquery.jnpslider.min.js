!function(a){"use strict";a.fn.jnpslider=function(){return a(this).each(function(b){function c(){e(s,s+1),i()}function d(){!joption.ismobile&&z>=v&&w>=z&&(clearTimeout(C),C=setTimeout(c,D.timeout))}function e(a,b){var c=function(a){return a>t?0:0>a?t:a};r=c(a),s=c(b)}function f(b){var c=[];return a(".slider-video",b).length&&c.push(a(".slider-video",b)),a(".slider-header",b).length&&c.push(a(".slider-header",b)),a(".slider-alternate",b).length&&c.push(a(".slider-alternate",b)),a(".slider-button",b).length&&c.push(a(".slider-button",b)),c}function g(){a(H).each(function(b){a(this).css("top",(y-a(this).height())/2)})}function h(){var b=a(window).height()+B-a(".post-header").height();x=a(q).offset().top,y=a(q).height(),g(),v=x+B,w=x+y;var c=0;a('[data-title="Top"] .text-wrapper').each(function(b,d){c<a(d).height()&&(c=a(d).height())}),b>c&&(c=b),a(q).height(c),a('[data-title="Top"] .text-wrapper').each(function(b,d){a(d).css("top",(c-a(d).height())/2)})}function i(){u=!0;var b=100,c=b+100,e=1e3,g=600,h=200,i=a(G).get(r),k=a(G).get(s),l=a(H).get(r),m=a(H).get(s),n=f(l),o=f(m);null===r&&a(k).css({"z-index":2,opacity:1}),a(o).each(function(b){a(this).css({opacity:0,top:20})}),a(a(n).get().reverse()).each(function(c){var d=this;setTimeout(function(){a(d).animate({opacity:0},b)},b*c)}),setTimeout(function(){null!==r&&(a(i).css("z-index",1),a(l).hide()),a(k).css("z-index",2).animate({opacity:1},g,function(){null!==r&&a(i).css("opacity",0)}),a(m).show(),a(o).each(function(b){var d=this;setTimeout(function(){a(o).length-1===b&&(u=!1),a(d).animate({opacity:1,top:0},c)},h*b+e)})},n.length*b),j(),D.autoplay&&d()}function j(){a(a(J).get(r)).removeClass("nav-dot-current"),a(a(J).get(s)).addClass("nav-dot-current")}function k(b){if(u===!1){clearTimeout(C);var c=b.currentTarget;a(c).hasClass("next-slide")?e(s,s+1):e(s,s-1),i()}}function l(b){if(u===!1){var c=b.currentTarget,d=parseInt(a(c).attr("data-id"),10);d!==s&&(clearTimeout(C),e(s,d),i())}}function m(){var b=null;a(".slider-video, .additional-slider-video").magnificPopup({
type:"iframe",delegate:"a",mainClass:"mfp-fade",removalDelay:160,preloader:!1,gallery:{enabled:!0},callbacks:{elementParse:function(c){if(clearTimeout(C),"html5video"===a(c.el).data("video-type")){c.type="inline";var d="<video></video>",e=a(d).get(0).canPlayType("video/mp4"),f=a(d).get(0).canPlayType("video/webm"),g=a(d).get(0).canPlayType("video/ogg");D={videoWidth:"100%",videoHeight:"100%"},joption.ismobile||"maybe"!==e&&""!==e||"maybe"!==f&&""!==f||"maybe"!==g&&""!==g||(D.mode="shim"),D.features=["playpause","progress","current","duration","tracks","volume","fullscreen"],D.success=function(a,b){"flash"==a.pluginType?a.addEventListener("canplay",function(){a.play()},!1):a.play()},a(".html5popup-wrapper video").mediaelementplayer(D)}else c.type="iframe";window.clearTimeout(b),b=window.setTimeout(function(){a(window).trigger("jmusicstop")},200)},close:function(){D.autoplay&&d(),a(window).trigger("jmusicstart")}}})}function n(){if(D.autoplay&&d(),z>v&&w>z){var b=0;b=a(".bottomnav").length?(z-x)/y:(z-x-B)/y,a(F,K).css({opacity:1-1.5*b}),a(K).css({opacity:1-1.5*b});var c=b*y/2;jpobj.doTranslate(E,"0px",c+"px"),jpobj.doTranslate(F,"0px",c+"px"),A=1}else a(F).css({opacity:1}),a(K).css({opacity:1}),jpobj.doTranslate(E,"0px","0px"),jpobj.doTranslate(F,"0px","0px"),A=0}function o(){z=jpobj.globaltop,n()}function p(){a(window).bind("resize",h),a(document).bind("ready",function(){i()}),a(window).bind("load",function(){h()}),a(I).bind("click",k),a(J).bind("click",l),m(),joption.ismobile||"chrome"!==jpobj.browser[0].toLowerCase()&&"firefox"!==jpobj.browser[0].toLowerCase()||a(window).bind("jscroll",o)}var q=a(this),r=null,s=0,t=a(q).find(".bgslider-holder > .bgslider").length-1,u=!1,v=0,w=0,x=0,y=0,z=0,A=0,B=a.jreducedtop(),C=null,D={timeout:parseInt(a(this).attr("data-timeout"),10),autoplay:parseInt(a(this).attr("data-autoplay"),10),elemovespeed:300};D.autoplay=0==t?!1:D.autoplay;var E=a(q).find(".bgslider-holder"),F=a(q).find(".text-holder"),G=a(E).find(".bgslider"),H=a(F).find(".text-wrapper"),I=a(q).find(".navigation > span"),J=a(q).find(".nav-dots span"),K=a(q).find(".nav-dots");
p()})}}(jQuery);